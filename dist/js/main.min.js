function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _regeneratorRuntime(){_regeneratorRuntime=function(){return i};var s,i={},t=Object.prototype,u=t.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},n=e.iterator||"@@iterator",r=e.asyncIterator||"@@asyncIterator",a=e.toStringTag||"@@toStringTag";function l(t,e,r,n){return Object.defineProperty(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{l({},"")}catch(s){l=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var a,o,i,c,e=e&&e.prototype instanceof f?e:f,e=Object.create(e.prototype);return l(e,"_invoke",(a=t,o=r,i=new w(n||[]),c=1,function(t,e){if(3===c)throw Error("Generator is already running");if(4===c){if("throw"===t)throw e;return{value:s,done:!0}}for(i.method=t,i.arg=e;;){var r=i.delegate;if(r){r=function t(e,r){var n=r.method,a=e.i[n];if(a===s)return r.delegate=null,"throw"===n&&e.i.return&&(r.method="return",r.arg=s,t(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;n=d(a,e.i,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,g;a=n.arg;return a?a.done?(r[e.r]=a.value,r.next=e.n,"return"!==r.method&&(r.method="next",r.arg=s),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}(r,i);if(r){if(r===g)continue;return r}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(1===c)throw c=4,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);c=3;r=d(a,o,i);if("normal"===r.type){if(c=i.done?4:2,r.arg===g)continue;return{value:r.arg,done:i.done}}"throw"===r.type&&(c=4,i.method="throw",i.arg=r.arg)}}),!0),e}function d(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}i.wrap=c;var g={};function f(){}function o(){}function h(){}var e={},m=(l(e,n,function(){return this}),Object.getPrototypeOf),m=m&&m(m(_([]))),p=(m&&m!==t&&u.call(m,n)&&(e=m),h.prototype=f.prototype=Object.create(e));function y(t){["next","throw","return"].forEach(function(e){l(t,e,function(t){return this._invoke(e,t)})})}function v(i,c){var e;l(this,"_invoke",function(r,n){function t(){return new c(function(t,e){!function e(t,r,n,a){var o,t=d(i[t],i,r);if("throw"!==t.type)return(r=(o=t.arg).value)&&"object"==_typeof(r)&&u.call(r,"__await")?c.resolve(r.__await).then(function(t){e("next",t,n,a)},function(t){e("throw",t,n,a)}):c.resolve(r).then(function(t){o.value=t,n(o)},function(t){return e("throw",t,n,a)});a(t.arg)}(r,n,t,e)})}return e=e?e.then(t,t):t()},!0)}function b(t){this.tryEntries.push(t)}function E(t){var e=t[4]||{};e.type="normal",e.arg=s,t[4]=e}function w(t){this.tryEntries=[[-1]],t.forEach(b,this),this.reset(!0)}function _(e){if(null!=e){var r,t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return r=-1,(t=function t(){for(;++r<e.length;)if(u.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=s,t.done=!0,t}).next=t}throw new TypeError(_typeof(e)+" is not iterable")}return l(p,"constructor",o.prototype=h),l(h,"constructor",o),o.displayName=l(h,a,"GeneratorFunction"),i.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},i.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,l(t,a,"GeneratorFunction")),t.prototype=Object.create(p),t},i.awrap=function(t){return{__await:t}},y(v.prototype),l(v.prototype,r,function(){return this}),i.AsyncIterator=v,i.async=function(t,e,r,n,a){void 0===a&&(a=Promise);var o=new v(c(t,e,r,n),a);return i.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},y(p),l(p,a,"Generator"),l(p,n,function(){return this}),l(p,"toString",function(){return"[object Generator]"}),i.keys=function(t){var e,r=Object(t),n=[];for(e in r)n.unshift(e);return function t(){for(;n.length;)if((e=n.pop())in r)return t.value=e,t.done=!1,t;return t.done=!0,t}},i.values=_,w.prototype={constructor:w,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&u.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=s)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function t(t){o.type="throw",o.arg=e,r.next=t}for(var n=r.tryEntries.length-1;0<=n;--n){var a=this.tryEntries[n],o=a[4],i=this.prev,c=a[1],u=a[2];if(-1===a[0])return t("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=i){if(i<c)return this.method="next",this.arg=s,t(c),!0;if(i<u)return t(u),!1}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(-1<n[0]&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}var o=(a=a&&("break"===t||"continue"===t)&&a[0]<=e&&e<=a[2]?null:a)?a[4]:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a[2],g):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r[2]===t)return this.complete(r[4],r[3]),E(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r,n,a=this.tryEntries[e];if(a[0]===t)return"throw"===(r=a[4]).type&&(n=r.arg,E(a)),n}throw Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={i:_(t),r:e,n:r},"next"===this.method&&(this.arg=s),g}},i}function asyncGeneratorStep(t,e,r,n,a,o,i){try{var c=t[o](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,a)}function _asyncToGenerator(c){return function(){var t=this,i=arguments;return new Promise(function(e,r){var n=c.apply(t,i);function a(t){asyncGeneratorStep(n,e,r,a,o,"next",t)}function o(t){asyncGeneratorStep(n,e,r,a,o,"throw",t)}a(void 0)})}}function deleteBarang(){return _deleteBarang.apply(this,arguments)}function _deleteBarang(){return(_deleteBarang=_asyncToGenerator(_regeneratorRuntime().mark(function t(){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(barangIdToDelete){t.next=2;break}return t.abrupt("return",alert("ID barang tidak ditemukan"));case 2:return t.prev=2,t.next=5,fetch("".concat(API_URL,"/barang/").concat(barangIdToDelete),{method:"DELETE",credentials:"include"});case 5:barangIdToDelete=null,alert("Data Barang Berhasil di Hapus"),window.location.reload(),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),console.error(t.t0),alert("Gagal menghapus data");case 14:case"end":return t.stop()}},t,null,[[2,10]])}))).apply(this,arguments)}Array.from(document.getElementsByClassName("dropdown")).forEach(function(t){t.addEventListener("click",function(t){var e;t.currentTarget.classList.contains("navbar-item")?t.currentTarget.classList.toggle("active"):(e=t.currentTarget.getElementsByClassName("mdi")[1],t.currentTarget.parentNode.classList.toggle("active"),e.classList.toggle("mdi-plus"),e.classList.toggle("mdi-minus"))})}),Array.from(document.getElementsByClassName("mobile-aside-button")).forEach(function(t){t.addEventListener("click",function(t){t=t.currentTarget.getElementsByClassName("icon")[0].getElementsByClassName("mdi")[0];document.documentElement.classList.toggle("aside-mobile-expanded"),t.classList.toggle("mdi-forwardburger"),t.classList.toggle("mdi-backburger")})}),Array.from(document.getElementsByClassName("--jb-navbar-menu-toggle")).forEach(function(t){t.addEventListener("click",function(t){var e=t.currentTarget.getElementsByClassName("icon")[0].getElementsByClassName("mdi")[0];document.getElementById(t.currentTarget.getAttribute("data-target")).classList.toggle("active"),e.classList.toggle("mdi-dots-vertical"),e.classList.toggle("mdi-close")})}),document.addEventListener("click",(()=>{var e=_asyncToGenerator(_regeneratorRuntime().mark(function t(e){var r;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(r=e.target.closest(".--jb-modal"))&&(r=r.getAttribute("data-target"),r=document.getElementById(r))&&(r.classList.add("active"),document.documentElement.classList.add("clipped")),(r=e.target.closest(".--jb-modal-close"))&&(r=r.closest(".modal"))&&(r.classList.remove("active"),document.documentElement.classList.remove("clipped")),(r=e.target.closest(".button.red.--jb-modal[data-id]"))&&(barangIdToDelete=r.getAttribute("data-id"));case 6:case"end":return t.stop()}},t)}));return function(t){return e.apply(this,arguments)}})());var barangData=[],currentPage=1,itemsPerPage=5;function fetchBarang(){return _fetchBarang.apply(this,arguments)}function _fetchBarang(){return(_fetchBarang=_asyncToGenerator(_regeneratorRuntime().mark(function t(){var e,r;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(API_URL,"/barang/new"),{method:"GET",credentials:"include"});case 3:return e=t.sent,t.next=6,e.json();case 6:if(r=t.sent,Array.isArray(r)){t.next=9;break}throw new Error("Data barang tidak valid");case 9:barangData=r,renderBarangPage(currentPage),renderPagination(),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.error("Gagal memuat data: "+t.t0.message);case 17:case"end":return t.stop()}},t,null,[[0,14]])}))).apply(this,arguments)}function submitEditBarang(){return _submitEditBarang.apply(this,arguments)}function _submitEditBarang(){return(_submitEditBarang=_asyncToGenerator(_regeneratorRuntime().mark(function t(){var e,r,n;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=document.getElementById("edit-id").value){t.next=3;break}return t.abrupt("return",alert("ID barang tidak valid."));case 3:return n={nama:document.getElementById("edit-nama").value,deskripsi:document.getElementById("edit-deskripsi").value,stok:Number(document.getElementById("edit-stok").value),harga:Number(document.getElementById("edit-harga").value),kategori:document.getElementById("edit-kategori").value,gambar:document.getElementById("edit-gambar").value},t.prev=4,t.next=7,fetch("".concat(API_URL,"/barang/edit/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(n)});case 7:return r=t.sent,t.next=10,r.json();case 10:if(n=t.sent,r.ok){t.next=13;break}return t.abrupt("return",alert(n.message||"Gagal mengedit barang."));case 13:alert("Data Barang Berhasil di Ubah"),window.location.reload(),t.next=21;break;case 17:t.prev=17,t.t0=t.catch(4),console.error(t.t0),alert("Gagal menyimpan perubahan.");case 21:case"end":return t.stop()}},t,null,[[4,17]])}))).apply(this,arguments)}function renderBarangPage(t){var r=document.getElementById("barang-table-body"),e=(r.innerHTML="",(t-1)*itemsPerPage);barangData.slice(e,e+itemsPerPage).forEach(function(t){var e=document.createElement("tr");e.innerHTML='\n        <td data-label="Id">\n          '.concat(t.id,'\n        </td>\n        <td data-label="Nama">').concat(t.nama,'</td>\n        <td data-label="Stok">').concat(t.stok,'</td>\n        <td data-label="Harga">Rp').concat(Number(t.harga).toLocaleString(),'</td>\n        <td data-label="Kategori">').concat(t.kategori||"-",'</td>\n        <td data-label="Created">\n          <small class="text-gray-500">').concat(new Date(t.created_at).toLocaleDateString(),'</small>\n        </td>\n        <td data-label="gambar">').concat(t.gambar||"-","</td>\n      "),r.appendChild(e)}),document.getElementById("page-info").textContent="Page ".concat(t," of ").concat(Math.ceil(barangData.length/itemsPerPage))}function renderPagination(){for(var r=document.getElementById("pagination-buttons"),t=(r.innerHTML="",Math.ceil(barangData.length/itemsPerPage)),e=1;e<=t;e++)(t=>{var e=document.createElement("button");e.textContent=t,e.className="button ".concat(t===currentPage?"active":""),e.onclick=function(){renderBarangPage(currentPage=t),renderPagination()},r.appendChild(e)})(e)}